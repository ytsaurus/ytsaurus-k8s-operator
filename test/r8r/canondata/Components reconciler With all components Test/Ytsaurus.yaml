apiVersion: cluster.ytsaurus.tech/v1
kind: Ytsaurus
metadata:
  creationTimestamp: null
  generation: 1
  name: test-ytsaurus
  namespace: ytsaurus-components
  resourceVersion: "11"
spec:
  caBundle:
    name: ytsaurus-dev-ca.crt
  caRootBundle:
    items:
    - key: ca-certificates.crt
      path: ca-certificates.crt
    - key: ca-certificates.jks
      path: java/cacerts
    name: ytsaurus-dev-ca-root-bundle
  clusterFeatures:
    httpProxyHaveChytAddress: true
    httpProxyHaveHttpsAddress: true
    rpcProxyHavePublicAddress: true
  configOverrides:
    name: test-overrides
  controllerAgents:
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  coreImage: ghcr.io/ytsaurus/ytsaurus:stable-24.2.1
  dataNodes:
  - instanceCount: 3
    locations:
    - locationType: ChunkStore
      path: /yt/node-data/chunk-store
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
    volumeClaimTemplates:
    - metadata:
        name: node-data
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
    volumeMounts:
    - mountPath: /yt/node-data
      name: node-data
  discovery:
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  dnsConfig:
    options:
    - name: global-dns-option
  dnsPolicy: ClusterFirst
  ephemeralCluster: true
  execNodes:
  - instanceCount: 1
    jobEnvironment:
      cri:
        apiRetryTimeoutSeconds: 120
    jobResources:
      limits:
        cpu: "4"
        memory: 8Gi
      requests:
        cpu: "0"
        memory: "0"
    locations:
    - locationType: ChunkCache
      path: /yt/node-data/chunk-cache
    - locationType: Slots
      path: /yt/node-data/slots
    - locationType: ImageCache
      path: /yt/node-data/image-cache
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    privileged: false
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
    volumeClaimTemplates:
    - metadata:
        name: node-data
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 5Gi
    volumeMounts:
    - mountPath: /yt/node-data
      name: node-data
  extraPodAnnotations:
    extra-pod-annotation: "true"
  hostNetwork: true
  httpProxies:
  - instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
    serviceType: NodePort
    transport:
      httpsSecret:
        name: https-server-cert
  imagePullSecrets:
  - name: global-image-pull-secrets
  jobImage: mirror.gcr.io/library/python:3.12-slim
  masterCaches:
    cellTagMasterCaches: 0
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  nativeTransport:
    tlsClientSecret:
      name: native-client-cert
    tlsPeerAlternativeHostName: test-ytsaurus
    tlsRequired: true
    tlsSecret:
      name: native-server-cert
  nodeSelector:
    global-node-selector: "true"
  podAnnotations:
    global-pod-annotation: "true"
  podLabels:
    global-pod-label: "true"
  primaryMasters:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: instance-affinity
              operator: Exists
    cellTag: 1
    dnsConfig:
      options:
      - name: instance-dns-option
    dnsPolicy: None
    hostNetwork: false
    instanceCount: 1
    locations:
    - locationType: MasterChangelogs
      path: /yt/master-data/master-changelogs
    - locationType: MasterSnapshots
      path: /yt/master-data/master-snapshots
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    nodeSelector:
      instance-node-selector: "true"
    podAnnotations:
      instance-pod-annotation: "true"
    podLabels:
      instance-pod-label: "true"
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
    runtimeClassName: instance-runtime-class
    setHostnameAsFqdn: true
    tolerations:
    - key: instance-toleration
    volumeClaimTemplates:
    - metadata:
        name: master-data
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 5Gi
    volumeMounts:
    - mountPath: /yt/master-data
      name: master-data
  queryTrackers:
    image: ghcr.io/ytsaurus/query-tracker:0.0.11
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  queueAgents:
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  rpcProxies:
  - instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
    serviceType: NodePort
    transport: {}
  runtimeClassName: global-runtime-class
  schedulers:
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
  setHostnameAsFqdn: false
  strawberry:
    image: ghcr.io/ytsaurus/strawberry:0.0.15
    resources: {}
  tolerations:
  - key: global-toleration
  useIpv4: false
  useIpv6: false
  usePorto: false
  useShortNames: true
  yqlAgents:
    image: ghcr.io/ytsaurus/query-tracker:0.0.11
    instanceCount: 1
    loggers:
    - minLogLevel: info
      name: info-stderr
      useTimestampSuffix: false
      writerType: stderr
    minReadyInstanceCount: 0
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: "0"
        memory: "0"
status:
  conditions:
  - lastTransitionTime: null
    message: Image heater idle
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: ImageHeaterReady
  - lastTransitionTime: null
    message: 0.0.0-devel
    observedGeneration: 1
    reason: Observed
    status: "True"
    type: OperatorVersion
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: DiscoveryReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: YtsaurusClientReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: MasterCacheReady
  - lastTransitionTime: null
    message: Init job successfully completed
    observedGeneration: 1
    reason: InitJobCompleted
    status: "True"
    type: defaultMasterInitJobCompleted
  - lastTransitionTime: null
    message: yt-master-init-job-default completed
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: MasterReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: DataNodeReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: ExecNodeReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: ControllerAgentReady
  - lastTransitionTime: null
    message: Init job successfully completed
    observedGeneration: 1
    reason: InitJobCompleted
    status: "True"
    type: yql-agent-environmentYqlAgentInitJobCompleted
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: HttpProxyReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: RpcProxyReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: SchedulerReady
  - lastTransitionTime: null
    message: Init job successfully completed
    observedGeneration: 1
    reason: InitJobCompleted
    status: "True"
    type: clusterStrawberryControllerInitJobCompleted
  - lastTransitionTime: null
    message: Init job successfully completed
    observedGeneration: 1
    reason: InitJobCompleted
    status: "True"
    type: yql-agent-update-environmentYqlAgentInitJobCompleted
  - lastTransitionTime: null
    message: yt-yql-agent-init-job-yql-agent-update-environment completed
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: YqlAgentReady
  - lastTransitionTime: null
    message: Ready
    observedGeneration: 1
    reason: Ready
    status: "True"
    type: StrawberryControllerReady
  observedGeneration: 1
  state: Running
  updateStatus: {}
